{% extends 'base.html' %}
{% block content %}
<section class="content">
  <div class="container-fluid">

    <div class="jumbotron">
      <h1 class="display-4">{{ t["welcome"] }}, {{ current_user.username }}!</h1>
      <p class="lead">You are logged in as <strong>{{ role }}</strong>.</p>
      <hr class="my-4">
      <p>The humAi App is a system, often using computer vision 
        and machine learning, designed to identify and classify diseases 
        or pests on rice plant leaves. These systems help farmers detect 
        issues early, potentially reducing crop losses.</p>
    </div>

    {% if role == 'Admin' %}
    <div class="row">
      <div class="col-lg-4 col-6">
        <div class="small-box bg-info">
          <div class="inner">
            <h3>{{ stats.users }}</h3>
            <p>Total Users</p>
          </div>
          <div class="icon">
            <i class="fas fa-users"></i>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-6">
        <div class="small-box bg-success">
          <div class="inner">
            <h3>{{ stats.diseases }}</h3>
            <p>Total Diseases</p>
          </div>
          <div class="icon">
            <i class="fas fa-virus"></i>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-6">
        <div class="small-box bg-warning">
          <div class="inner">
            <h3>{{ stats.detections }}</h3>
            <p>Total Detections</p>
          </div>
          <div class="icon">
            <i class="fas fa-microscope"></i>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

  </div>
</section>


<section class="content">
  <div class="container-fluid">



   <section class="content">
  <div class="container-fluid">

    <div class="card card-success">
  <div class="card-header">
    <h3 class="card-title"><i class="fas fa-virus"></i> Rice Leaf Details</h3>
  </div>
  <div class="card-body">
    <div id="diseaseCarousel" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">

        {% for disease in diseases %}
          <div class="carousel-item {% if loop.first %}active{% endif %}">
            <div class="row justify-content-center">

              <!-- Disease Image -->
              <div class="col-md-5 text-center">
                <img src="{{ url_for('static', filename=disease.image_path) }}" 
                     class="img-fluid rounded shadow" 
                     alt="{{ disease.name }}"
                     style="max-height: 250px; object-fit: cover;">
              </div>

              <!-- Disease Details -->
              <div class="col-md-6">
                <h4 class="mt-3">{{ disease.name }}</h4>
                <p><strong>Description:</strong> {{ disease.description }}</p>

                <!-- Centered Navigation Buttons -->
                <div class="text-center mt-3">
                  <a class="btn btn-success mr-2" href="#diseaseCarousel" role="button" data-slide="prev">
                    <i class="fas fa-arrow-left"></i> Previous
                  </a>
                  <a class="btn btn-success" href="#diseaseCarousel" role="button" data-slide="next">
                    Next <i class="fas fa-arrow-right"></i>
                  </a>
                </div>
              </div>

            </div>
          </div>
        {% else %}
          <div class="carousel-item active">
            <div class="alert alert-warning text-center">No diseases found.</div>
          </div>
        {% endfor %}

      </div>
    </div>
  </div>
</div>




{% endblock %}
